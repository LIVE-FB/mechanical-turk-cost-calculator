<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Mechanical Turk Cost Calculator</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <!--[if lt IE 9]>  
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>  
    <![endif]--> 
    <style type="text/css">

.main-content {
    font-size: 1.2em;
    text-align: center;
    margin: 30px;
}

p.blurb {
    margin: 30px auto 50px auto;
    width: 810px;
}

input {
    margin-bottom: 15px;
    padding: 5px 8px;
}

.table {
    text-align: left;
}

    </style>
</head>
<body>
    
<div class="main-content">

<h1>Mechanical Turk Cost Calculator</h1>

<p class="blurb">Use this calculator to find out how much your job will cost on <a href="http://mturk.com/">Amazon's Mechanical Turk</a>. It's based on the <a href="https://requester.mturk.com/pricing">Mechanical Turk pricing guidelines</a>. It will tell you if you can save money by changing your job's design.</p>

<div class="row">

    <div class="col-md-6">

        <form>
            <p>Number of HITs:</p>
            <p><input type="number" value="1" id="numHITs" step="1" min="1"></p>

            <hr>

            <p>Number of assignments per HIT:</p>
            <p><input type="number" value="1" id="numAssignments" step="1" min="1"></p>

            <hr>

            <p>Reward per assignment (in cents):</p>
            <p><input type="number" value="1" id="reward" step="1" min="1"></p>

            <hr>

            <p>Number of masters qualifications:</p>
            <p><input type="number" value="0" id="mastersQualifications" step="1" min="0"></p>
        </form>

    </div>

    <div class="col-md-6">
        <table class="table table-striped">
            <tr>
                <td>Reward per assignment</td>
                <td>$<span id="output-reward">0.01</span></td>
            </tr>
            <tr>
                <td>Commission per assignment</td>
                <td>$<span id="output-commission-per-assignment">0.01</span></td>
            </tr>
            <tr>
                <td>Total cost per assignment</td>
                <td>$<span id="output-cost-per-assignment">0.01</span></td>
            </tr>
            <tr>
                <td>Total number of assignments</td>
                <td><span id="output-number-of-assignments">0</span></td>
            </tr>
            <tr class="success">
                <td>Total cost</td>
                <td>$<span id="output-total-cost">0.01</span></td>
            </tr>
        </table>
        <div class="alert alert-warning" style="text-align: left;" id="commission-warning">
            The Mechanical Turk commission jumps from 20% to 40% when there are ten or more assignments per HIT.<br><br>
            Consider creating HITs with less than ten assignments. For instance, if a HIT has 12 assignments, break it into two HITs. 
        </div>
        <div class="alert alert-warning" style="text-align: left;" id="min-commission-warning">
            The commission on this job would be less than $0.01 per assignment, but the minimum Mechanical Turk assignment commission is $0.01.<br><br>Consider combining multiple HITs into one and increasing the reward. For instance, a job with ten HITs at $0.03/HIT costs $0.40, but a job with one HIT at $0.30/HIT costs $0.36.
        </div>
    </div>

</div>

<p>
    <br><br>
    By <a href="http://twitter.com/morninj">@morninj</a>
    &middot;
    <a href="https://github.com/morninj/Mechanical-Turk-Price-Calculator">Contribute on GitHub</a>
</p>


</div><!--/.main-content-->


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script>

// MTurk settings
var mturkCommissionLow = 0.20; // 20% commission for HITs with < 10 assignments
var mturkCommissionHigh = 0.40; // 20% commission for HITs with < 10 assignments
var mturkMinCommission = 0.01; // Minimum MTurk commission per assignment
var mturkCommissionPerAssignment = 0;

var numCalculations = 0;

$(document).ready(function() {
    function calculatePrice() {
        numCalculations++;
        // Hide alerts
        $('.alert').hide();
        // Grab input
        HITs = getval($('#numHITs').val());
        assignmentsPerHIT = getval($('#numAssignments').val());
        paymentPerAssignment = getval($('#reward').val()) / 100;
        mastersQualifications = getval($('#mastersQualifications').val());
        function getval(input) {
            if (input ==  '') { return 1; }
            else if (isNaN(parseInt(input))) { return 1; }
            else { return parseInt(input); }
        }

        // Calculate commission per assignment
        if (assignmentsPerHIT < 10) {
            mturkCommissionPerAssignment = mturkCommissionLow * paymentPerAssignment;
        } else {
            mturkCommissionPerAssignment = mturkCommissionHigh * paymentPerAssignment;
            $('#commission-warning').show();
        }
        if (mturkCommissionPerAssignment < mturkMinCommission) {
            mturkCommissionPerAssignment = mturkMinCommission;
            if (numCalculations > 1) { $('#min-commission-warning').show(); }
        }
        if (mastersQualifications > 0) {
            mturkCommissionPerAssignment += (paymentPerAssignment * 0.05 * mastersQualifications);
        }

        // Calculate cost per assignment
        var costPerAssignment = paymentPerAssignment + mturkCommissionPerAssignment;

        // Calculate total cost of the job
        var totalJobCost = costPerAssignment * assignmentsPerHIT * HITs;
    
        // Update output table
        $('#output-reward').html(paymentPerAssignment.toFixed(3));
        $('#output-commission-per-assignment').html(mturkCommissionPerAssignment.toFixed(3));
        $('#output-cost-per-assignment').html(costPerAssignment.toFixed(3));
        $('#output-number-of-assignments').html(assignmentsPerHIT * HITs);
        $('#output-total-cost').html(totalJobCost.toFixed(3));
    }

    // Calculate price each time input changes
    $('input').on('input', function() {
        calculatePrice();
    });

    // Calculate price for the first time when the page loads
    calculatePrice();
});



    </script>
</body>
</html>


